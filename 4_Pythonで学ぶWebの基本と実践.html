<h1
id="pythonã§å­¦ã¶webã®åŸºæœ¬ã¨å®Ÿè·µ"><strong>Pythonã§å­¦ã¶Webã®åŸºæœ¬ã¨å®Ÿè·µ</strong></h1>
<h2 id="webã¨ã¯"><strong>Webã¨ã¯</strong></h2>
<h3 id="webã®æ¦‚è¦"><strong>Webã®æ¦‚è¦</strong></h3>
<p>Webï¼ˆWorld Wide
Webï¼‰ã¯ã€ã‚¤ãƒ³ã‚¿ãƒ¼ãƒãƒƒãƒˆä¸Šã§æƒ…å ±ã‚’é–²è¦§ãƒ»å…±æœ‰ã™ã‚‹ä»•çµ„ã¿ã§ã™ã€‚
Webã‚µã‚¤ãƒˆã«ã‚¢ã‚¯ã‚»ã‚¹ã™ã‚‹ã“ã¨ã§ã€ãƒ‹ãƒ¥ãƒ¼ã‚¹ã‚’èª­ã‚“ã ã‚Šã€å‹•ç”»ã‚’è¦‹ãŸã‚Šã€ã‚ªãƒ³ãƒ©ã‚¤ãƒ³ã‚·ãƒ§ãƒƒãƒ”ãƒ³ã‚°ã‚’ã—ãŸã‚Šã§ãã¾ã™ã€‚</p>
<h3 id="webã®ä»•çµ„ã¿"><strong>Webã®ä»•çµ„ã¿</strong></h3>
<ul>
<li>ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ(ãƒ–ãƒ©ã‚¦ã‚¶) Google
Chromeã‚„Safariãªã©ã®ãƒ–ãƒ©ã‚¦ã‚¶ã‚’ä½¿ã£ã¦Webã‚µã‚¤ãƒˆã‚’è¡¨ç¤ºã—ã¾ã™ã€‚</li>
<li>Webã‚µãƒ¼ãƒãƒ¼
Webã‚µã‚¤ãƒˆã®ãƒ‡ãƒ¼ã‚¿ã‚’ä¿å­˜ã—ã€ãƒ–ãƒ©ã‚¦ã‚¶ã‹ã‚‰ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆã«å¿œã˜ã¦ãƒšãƒ¼ã‚¸ã‚’é€ã‚Šã¾ã™ã€‚</li>
</ul>
<h2 id="httpãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹"><strong>HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã‚‹</strong></h2>
<p>requestsãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ä½¿ç”¨ã—ã¦ã‚µãƒ¼ãƒãƒ¼ã«HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ã£ã¦ã¿ã‚‹</p>
<ol type="1">
<li><p>requestsã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
<code>pip install requests</code></p></li>
<li><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã™ã‚‹
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãƒ¡ãƒ¢å¸³ã‚’é–‹ã
<code>pwsh     notepad http_requests.py</code>
ä»¥ä¸‹å†…å®¹ã‚’ä¿å­˜ã—ã€ãƒ¡ãƒ¢å¸³ã‚’é–‰ã˜ã‚‹ ```python import requests</p>
<p>def get_pokemon_data(pokemon_name): url =
fâ€https://pokeapi.co/api/v2/pokemon/{pokemon_name.lower()}â€ response =
requests.get(url)</p>
<pre><code> # HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆãŒæˆåŠŸæ™‚ã¯200
 if response.status_code == 200:
     data = response.json()
     print(f&quot;ãƒã‚±ãƒ¢ãƒ³å: {data[&#39;name&#39;].capitalize()}&quot;)
     print(f&quot;ID: {data[&#39;id&#39;]}&quot;)
     print(&quot;ã‚¿ã‚¤ãƒ—:&quot;, &quot;, &quot;.join([t[&#39;type&#39;][&#39;name&#39;] for t in data[&#39;types&#39;]]))
     print(&quot;é«˜ã•:&quot;, data[&#39;height&#39;])
     print(&quot;é‡ã•:&quot;, data[&#39;weight&#39;])
     print(&quot;èƒ½åŠ›å€¤:&quot;, &quot;, &quot;.join([a[&#39;ability&#39;][&#39;name&#39;] for a in data[&#39;abilities&#39;]]))
 else:
     print(&quot;ãƒã‚±ãƒ¢ãƒ³ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸã€‚&quot;)</code></pre>
<p>print(â€œâ€”â€”â€”â€”â€”â€”-â€) # ãƒ”ã‚«ãƒãƒ¥ã‚¦ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
get_pokemon_data(â€œpikachuâ€) print(â€œâ€”â€”â€”â€”â€”â€”-â€) # ã‚²ãƒ³ã‚¬ãƒ¼ã®ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
get_pokemon_data(â€œgengarâ€) print(â€œâ€”â€”â€”â€”â€”â€”-â€) ```</p></li>
<li><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹
<code>python http_requests.py</code></p></li>
</ol>
<h2
id="ç°¡å˜ãªhttpã‚µãƒ¼ãƒãƒ¼ã‚’ãŸã¦ã‚‹"><strong>ç°¡å˜ãªHTTPã‚µãƒ¼ãƒãƒ¼ã‚’ãŸã¦ã‚‹</strong></h2>
<p>HTTPã‚µãƒ¼ãƒãƒ¼ã¨ã¯ç°¡å˜ã«è¨€ãˆã°ã€ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚¢ã‚¯ã‚»ã‚¹ã§ãã‚‹ã‚µãƒ¼ãƒãƒ¼ã®ã“ã¨</p>
<ol type="1">
<li><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã™ã‚‹
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãƒ¡ãƒ¢å¸³ã‚’é–‹ã
<code>pwsh     notepad http_server.py</code>
ä»¥ä¸‹å†…å®¹ã‚’ä¿å­˜ã—ã€ãƒ¡ãƒ¢å¸³ã‚’é–‰ã˜ã‚‹ ```python import http.server import
socketserver</p>
<p>PORT = 8000 counter = 0 # ã‚¢ã‚¯ã‚»ã‚¹ã‚«ã‚¦ãƒ³ã‚¿ãƒ¼</p>
<p>class CustomHandler(http.server.SimpleHTTPRequestHandler): def
do_GET(self): global counter counter += 1</p>
<pre><code>     # ã‚·ãƒ³ãƒ—ãƒ«ãªHTMLãƒšãƒ¼ã‚¸ã‚’ç”Ÿæˆ
     html_content = f&quot;&quot;&quot;
     &lt;!DOCTYPE html&gt;
     &lt;html lang=&quot;ja&quot;&gt;
     &lt;head&gt;
         &lt;meta charset=&quot;UTF-8&quot;&gt;
         &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;
         &lt;title&gt;Python Web Server&lt;/title&gt;
         &lt;style&gt;
             body {{
                 font-family: Arial, sans-serif;
                 text-align: center;
                 padding: 50px;
                 background-color: #f4f4f4;
             }}
             .container {{
                 background: white;
                 padding: 20px;
                 border-radius: 10px;
                 box-shadow: 0px 0px 10px rgba(0,0,0,0.1);
                 display: inline-block;
             }}
             h1 {{ color: #333; }}
             p {{ font-size: 1.2em; }}
         &lt;/style&gt;
     &lt;/head&gt;
     &lt;body&gt;
         &lt;div class=&quot;container&quot;&gt;
             &lt;h1&gt;Python http.server ã§ä½œã‚‹Webã‚µã‚¤ãƒˆ&lt;/h1&gt;
             &lt;p&gt;ã“ã®ãƒšãƒ¼ã‚¸ã¸ã®ã‚¢ã‚¯ã‚»ã‚¹æ•°: &lt;strong&gt;{counter}&lt;/strong&gt;&lt;/p&gt;
             &lt;p&gt;Pythonã® http.server ã‚’ä½¿ã£ã¦ç°¡å˜ãªWebã‚µãƒ¼ãƒãƒ¼ã‚’æ§‹ç¯‰ã—ã¾ã—ãŸã€‚&lt;/p&gt;
             &lt;p&gt;&lt;a href=&quot;/&quot;&gt;æ›´æ–°ã™ã‚‹&lt;/a&gt;&lt;/p&gt;
         &lt;/div&gt;
     &lt;/body&gt;
     &lt;/html&gt;
     &quot;&quot;&quot;

     # HTTPãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚’é€ä¿¡
     self.send_response(200)
     self.send_header(&quot;Content-type&quot;, &quot;text/html; charset=utf-8&quot;)
     self.end_headers()
     self.wfile.write(html_content.encode(&quot;utf-8&quot;))</code></pre>
<p># ã‚µãƒ¼ãƒãƒ¼ã®èµ·å‹• with socketserver.TCPServer((â€œâ€œ, PORT),
CustomHandler) as httpd: print(fâ€Serving at http://localhost:{PORT}â€œ)
httpd.serve_forever()</p>
<p>```</p></li>
<li><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹ <code>python http_server.py</code></p></li>
<li><p>ãƒ–ãƒ©ã‚¦ã‚¶ã§å‹•ä½œç¢ºèªã™ã‚‹ http://localhost:8000 <img
src="./image/http_server.png" /></p></li>
<li><p>ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã«æˆ»ã‚ŠPythonã‚’æ­¢ã‚ã‚‹ <code>Ctrl + c</code>
ã‚’æŠ¼ä¸‹ã—ã¦æ­¢ã‚ã‚‹</p></li>
</ol>
<h2
id="pythonã§webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°"><strong>Pythonã§Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°</strong></h2>
<p>Webã‚¹ã‚¯ãƒ¬ã‚¤ãƒ”ãƒ³ã‚°ã¨ã¯Webã‚µã‚¤ãƒˆã®æƒ…å ±ã‚’å–å¾—ã—ã€è§£æã™ã‚‹æŠ€è¡“
Amazonã®å•†å“ã®ä¾¡æ ¼è‡ªå‹•å–å¾—ãªã©ã§åˆ©ç”¨ã•ã‚Œã‚‹æŠ€è¡“</p>
<ol type="1">
<li><p>Beautifulsoup4ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹
<code>pip install beautifulsoup4</code></p></li>
<li><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã™ã‚‹
ã‚¿ãƒ¼ãƒŸãƒŠãƒ«ã§ä»¥ä¸‹ã‚³ãƒãƒ³ãƒ‰ã‚’å®Ÿè¡Œã—ã€ãƒ¡ãƒ¢å¸³ã‚’é–‹ã
<code>pwsh     notepad web_scraping.py</code>
ä»¥ä¸‹å†…å®¹ã‚’ä¿å­˜ã—ã€ãƒ¡ãƒ¢å¸³ã‚’é–‰ã˜ã‚‹</p>
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> requests</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> bs4 <span class="im">import</span> BeautifulSoup</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> get_weather():</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="co"># å–å¾—ã™ã‚‹éƒ½å¸‚ã®Yahoo!å¤©æ°—URLï¼ˆä¾‹: æ±äº¬ï¼‰</span></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>    url <span class="op">=</span> <span class="st">&quot;https://weather.yahoo.co.jp/weather/jp/13/4410.html&quot;</span></span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    <span class="co"># HTTPãƒªã‚¯ã‚¨ã‚¹ãƒˆã‚’é€ä¿¡ï¼ˆUser-Agentã‚’æŒ‡å®šã—ã¦ãƒœãƒƒãƒˆå¯¾ç­–ã‚’å›é¿ï¼‰</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    headers <span class="op">=</span> {<span class="st">&quot;User-Agent&quot;</span>: <span class="st">&quot;Mozilla/5.0&quot;</span>}</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    response <span class="op">=</span> requests.get(url, headers<span class="op">=</span>headers)</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">if</span> response.status_code <span class="op">==</span> <span class="dv">200</span>:</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        <span class="co"># HTMLã‚’ãƒ‘ãƒ¼ã‚¹</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        soup <span class="op">=</span> BeautifulSoup(response.text, <span class="st">&quot;html.parser&quot;</span>)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>        <span class="co"># ä»Šæ—¥ã®å¤©æ°—æƒ…å ±ã‚’å–å¾—</span></span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>        weather <span class="op">=</span> soup.find(<span class="st">&quot;p&quot;</span>, class_<span class="op">=</span><span class="st">&quot;pict&quot;</span>).text.strip()</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        temperature_high <span class="op">=</span> soup.find(<span class="st">&quot;li&quot;</span>, class_<span class="op">=</span><span class="st">&quot;high&quot;</span>).text.strip()</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>        temperature_low <span class="op">=</span> soup.find(<span class="st">&quot;li&quot;</span>, class_<span class="op">=</span><span class="st">&quot;low&quot;</span>).text.strip()</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;ğŸ“ æ±äº¬ã®å¤©æ°—æƒ…å ±&quot;</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;â˜€ï¸ å¤©æ°—: </span><span class="sc">{</span>weather<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;ğŸŒ¡ æœ€é«˜æ°—æ¸©: </span><span class="sc">{</span>temperature_high<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="ss">f&quot;â„ï¸ æœ€ä½æ°—æ¸©: </span><span class="sc">{</span>temperature_low<span class="sc">}</span><span class="ss">&quot;</span>)</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">else</span>:</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>        <span class="bu">print</span>(<span class="st">&quot;å¤©æ°—æƒ…å ±ã‚’å–å¾—ã§ãã¾ã›ã‚“ã§ã—ãŸ&quot;</span>)</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> main():</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a>    get_weather()</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> <span class="va">__name__</span><span class="op">==</span><span class="st">&quot;__main__&quot;</span>:</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>    main()</span></code></pre></div></li>
<li><p>ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹ <code>python web_scraping.py</code></p></li>
</ol>
